/*
 *	jRaiser Javascript Library v1.2.0
 *	http://code.google.com/p/jraiser
 *
 *	Copyright (c) 2008-2009 heero
 *	licensed under MIT license
 *
 *	Date: 2009-11-28
 */
(function(){var H="1.2.0 Build 20091128";if(window.jRaiser&&window.jRaiser.version===H)return;var L,B,h=window.jRaiser=window.$=function($,_){if(null==$||$.$)return $;var A;if("string"===typeof $){_=_||(this.alert?document:this);A=E.query($,_)}else A=$;if(A&&!A.$)if(A.nodeType){if("unknown"!==typeof A.getAttribute)A=U(A,h.element)}else A=U(Q(A),h.element);return A};h.version=H;h.resume=function(){B=window.$;window.$=h;window.jRaiser=h;return B};h.retire=function(){window.$=B;return h};var E={SPACE:/\s*([\s>~+,])\s*/g,ISSIMPLE:/^#?([\w\u00c0-\uFFFF_-]+)$/,IMPLIEDALL:/([>\s~\+,]|^)([#\.\[:])/g,ATTRVALUES:/=(["'])([^'"]*)\1]/g,ATTR:/\[\s*([\w\u00c0-\uFFFF_-]+)\s*(?:(\S?\=)\s*(.*?))?\s*\]/g,PSEUDOSEQ:/\(([^\(\)]*)\)$/g,BEGINIDAPART:/^(?:\*#([\w\u00c0-\uFFFF_-]+))/,STANDARD:/^[>\s~\+:]/,STREAM:/[#\.>\s\[\]:~\+]+|[^#\.>\s\[\]:~\+]+/g,ISINT:/^\d+$/,tempAttrValues:[],tempAttrs:[],idName:"uniqueIdForJRaiser",id:0,query:function($,I){var A,G,E,C,B,J,K,F,H,L,D=this;$=$.trim();if(""===$)return;if(D.ISSIMPLE.test($))if(0===$.indexOf("#")&&typeof I.getElementById!=="undefined")return D.getElemById(I,$.substr(1));else if(typeof I.getElementsByTagName!=="undefined")return Q(I.getElementsByTagName($));if(!k(I))I=I.nodeType?[I]:Q(I);G=$.replace(D.SPACE,"$1").replace(D.ATTRVALUES,D.analyzeAttrValues).replace(D.ATTR,D.analyzeAttrs).replace(D.IMPLIEDALL,"$1*$2").split(",");E=G.length;C=-1;A=[];while(++C<E){J=I;$=G[C];if(D.BEGINIDAPART.test($))if(typeof I[0].getElementById!=="undefined"){J=[D.getElemById(I[0],RegExp.$1)];if(!J[0])continue;$=RegExp.rightContext}else $=G[C];if($!==""){if(!D.STANDARD.test($))$=" "+$;K=$.match(D.STREAM)||[];F=K.length;B=0;while(B<F){H=K[B++];L=K[B++];J=D.operators[H]?D.operators[H](J,L):[];if(0===J.length)break}}_(A,J)}D.tempAttrValues.length=D.tempAttrs.length=0;return A.length>1?D.unique(A):A},analyzeAttrs:function(_,B,A,$){return"[]"+(E.tempAttrs.push([B,A,$])-1)},analyzeAttrValues:function($,A,_){return"="+(E.tempAttrValues.push(_)-1)+"]"},generateId:function(_){var B=this.idName,$;try{$=_[B]=_[B]||new Number(++this.id)}catch(A){$=_.getAttribute(B);if(!$){$=new Number(++this.id);_.setAttribute(B,$)}}return $.valueOf()},unique:function(C){var A=[],D=0,B={},_,$;while(_=C[D++])if(1===_.nodeType){$=this.generateId(_);if(!B[$]){B[$]=true;A.push(_)}}return A},attrMap:{"class":"className","for":"htmlFor"},getAttribute:function($,A){var _=this.attrMap[A]||A,B=$[_];if("string"!==typeof B)if("undefined"!==typeof $.getAttributeNode){B=$.getAttributeNode(A);B=L==B?B:B.value}else if($.attributes)B=String($.attributes[A]);return null==B?"":B},getElemById:function(A,$){var _=A.getElementById($);if(_&&_.id!==$&&A.all){_=A.all[$];if(_){for(var B=0;B<_.length;B++)if(this.getAttribute(_[B],"id")===$)return _[B];_=L}}return _},getElemsByTagName:function(F,H,E,D,_){var A=[],I=-1,G=F.length,$,C,B;if(D!=="*")B=D.toUpperCase();while(++I<G){$=F[I][H];C=0;while($&&(!_||C<_)){if($.nodeName.toUpperCase()===B||(!B&&1===$.nodeType)){A.push($);C++}$=$[E]}}return A},checkElemPosition:function(G,H,J,A){var $=[];if(!isNaN(H)){var C=G.length,D=-1,_={},B,E,I,F;while(++D<C){B=G[D].parentNode;E=this.generateId(B);if(L===_[E]){I=0;F=B[J];while(F){if(1===F.nodeType)I++;if(I<H)F=F[A];else break}_[E]=F===L?0:F}else F=_[E];if(G[D]===F)$.push(G[D])}}return $},getElemsByPosition:function(A,C,_){var D=C,B=A.length,$=[];for(;D>=0&&D<B;D+=_)$.push(A[D]);return $},getElemsByAttribute:function(B,D){var _=[],$,E=0,A=this.attrOperators[D[1]||""],C="~="===D[1]?" "+D[2]+" ":D[2];while($=B[E++])A(this.getAttribute($,D[0]),C)&&_.push($);return _},operators:{"#":function(_,$){return E.getElemsByAttribute(_,["id","=",$])}," ":function(B,A){var C=B.length;if(1===C)return B[0].getElementsByTagName(A);else{var $=[],D=-1;while(++D<C)_($,B[D].getElementsByTagName(A))}return $},".":function($,_){return E.getElemsByAttribute($,["class","~=",_])},">":function(_,$){return E.getElemsByTagName(_,"firstChild","nextSibling",$)},"+":function(_,$){return E.getElemsByTagName(_,"nextSibling","nextSibling",$,1)},"~":function(_,$){return E.getElemsByTagName(_,"nextSibling","nextSibling",$)},"[]":function($,_){_=E.tempAttrs[_];if(_){if(E.ISINT.test(_[2]))_[2]=E.tempAttrValues[_[2]];return E.getElemsByAttribute($,_)}else return $},":":function(_,A){var $;if(E.PSEUDOSEQ.test(A)){$=parseInt(RegExp.$1);A=RegExp.leftContext}return E.pseOperators[A]?E.pseOperators[A](_,$):[]}},attrOperators:{"":function($){return $!==""},"=":function(_,$){return $===_},"~=":function(_,$){return(" "+_+" ").indexOf($)>=0},"!=":function(_,$){return $!==_},"^=":function(_,$){return _.indexOf($)===0},"$=":function(_,$){return _.substr(_.length-$.length)===$},"*=":function(_,$){return _.indexOf($)>=0}},pseOperators:{"first-child":function($){return E.checkElemPosition($,1,"firstChild","nextSibling")},"nth-child":function(_,$){return E.checkElemPosition(_,$,"firstChild","nextSibling")},"last-child":function($){return E.checkElemPosition($,1,"lastChild","previousSibling")},"nth-last-child":function(_,$){return E.checkElemPosition(_,$,"lastChild","previousSibling")},"odd":function($){return E.getElemsByPosition($,0,2)},"even":function($){return E.getElemsByPosition($,1,2)},"lt":function(_,$){return E.getElemsByPosition(_,$-2,-1)},"gt":function(_,$){return E.getElemsByPosition(_,$,1)}}};h.element={$:function($){return h($,this)},addCss:function($){return h.style.addCss(this,$)},removeCss:function($){return h.style.removeCss(this,$)},addEvent:function(_,A,$){return h.event.addEvent(this,_,A,$)},removeEvent:function($,_){return h.event.removeEvent(this,$,_)},attr:function(_,A){var $=this;_=E.attrMap[_]||_;if(A!==L)return h.dom.eachNode($,function($,_){this[$]=h.util.isFunction(_)?_.call(this):_},arguments);else return k($)?($[0]?$[0][_]:L):$[_]}};window.addEvent=document.addEvent=h.element.addEvent;window.removeEvent=document.removeEvent=h.element.removeEvent;var A={},f=Object.prototype.toString;h.util={isArray:function($){return f.call($)==="[object Array]"},isFunction:function($){return f.call($)==="[object Function]"},toArray:function($){if(k($))return $;else if($.toArray)return $.toArray();else{var _=[],A=$.length;while(A)_[--A]=$[A];return _}},merge:function(_,$){var B=$.length,A=_.length;while(--B>=0)_[A+B]=$[B];return _},parseTpl:function(C,$,B){var D=A[C];$=null==$?{}:$;if(!D){var _="var _=[];with(obj){_.push('"+C.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("_.push('")+"');}return _.join('');";D=new Function("obj",_);if(null==B||true===B)A[C]=D}return D($)},extend:function($,A){for(var _ in A)$[_]=A[_];return $}};h.dom={eachNode:function(_,A,$){if(!_)return;if(_.nodeType||_.alert)A.apply(_,$);else{var C=-1,B=_.length;while(++C<B)A.apply(_[C],$)}return _}};var k=h.util.isArray,Q=h.util.toArray,_=h.util.merge,U=h.util.extend,b=document.createElement("div"),J=/\-([a-z])/gi,D=b.style.styleFloat!==L?"styleFloat":"cssFloat",R=/([^:;]+)/g,I=/[^\s]+/g,T=/\s*([:;\s])\s*/g,F=/([^:;]+?)(?=:)/g,Z=/^float$/i;function e(_,$){return $.toUpperCase()}function W(_,$){return Z.test($)?D:$.replace(J,e)}function i($,A){var _=" "+this.className+" ",B=-1;while(++B<A)if(-1===_.indexOf(" "+$[B]+" "))_+=($[B]+" ");this.className=_.trim()}function g($,_){var A=0;while(A<_)this.style[$[A++]]=$[A++].replace(/^NULL$/i,"")}function M($,A){var _=" "+this.className+" ",B=-1;while(++B<A)_=_.replace(" "+$[B]+" "," ");this.className=_.trim()}function Y($,_){for(var A=0;A<_;A++)this.style[$[A]]!==L&&(this.style[$[A]]="")}h.style={parse:function(A){var _=A.indexOf(";")>=0,$=A.indexOf(":")>=0;if(_||$){A=A.trim().replace(T,"$1").replace($?F:R,W).match(R);if($&&A.length%2!==0)throw"invalid inline style";A.styleType="style"}else{A=A.match(I);A.styleType="class"}return A},addCss:function($,_){_=h.style.parse(_);return h.dom.eachNode($,"class"===_.styleType?i:g,[_,_.length])},removeCss:function($,_){_=h.style.parse(_);return h.dom.eachNode($,"class"===_.styleType?M:Y,[_,_.length])},getCurrentStyle:function(B,_,$){if(null==B)return L;var A=B.nodeType?B:B[0];return(A.currentStyle||($||window).getComputedStyle(A,null))[W(L,_)]}};function X(A,B,_){var $=this;B=h.event.delegate($,A,B,_);if($.attachEvent)$.attachEvent("on"+A,B);else if($.addEventListener)$.addEventListener(A,B,false)}function K(A,B,_){var $=this;B=h.event.getDelegate($,A,B);if($.detachEvent)$.detachEvent("on"+A,B);else if($.removeEventListener)$.removeEventListener(A,B,false)}var P=/\s*,\s*/;h.event={idName:"eventIdForJRaiser",eventsWrapper:"eventsForJRaiser",eventId:0,addEvent:function(_,A,C,$){A=A.split(P);for(var B=A.length-1;B>=0;B--)h.dom.eachNode(_,X,[A[B],C,$]);return _},removeEvent:function(_,A,C,$){A=A.split(P);for(var B=A.length-1;B>=0;B--)h.dom.eachNode(_,K,[A[B],C,$]);return _},delegate:function(_,D,F,C){var A=h.event,B=_[A.eventsWrapper]=_[A.eventsWrapper]||{},$=F[A.idName]=F[A.idName]||++A.eventId;B[D]=B[D]||{};var E=B[D][$];if(!E){E=function($){$=h.event.fix($);false===F.call(_,$,C||{})&&$.preventDefault()};B[D][$]=E}return E},getDelegate:function($,A,B){try{return $[this.eventsWrapper][A][B[this.idName]]}catch(_){}return B},fix:function(_){if(!_.target)_.target=_.srcElement||document;if(3==_.target.nodeType)_.target=_.target.parentNode;_.timestamp=_.timeStamp||Date.now();_.preventDefault=_.preventDefault||function(){_.returnValue=false};if(L===_.pageX&&L!==_.clientX){var A=document.documentElement,$=document.body;_.pageX=_.clientX+(A.scrollLeft||$.scrollLeft||0)-(A.clientLeft||0);_.pageY=_.clientY+(A.scrollTop||$.scrollTop||0)-(A.clientTop||0)}if(!_.which)_.which=_.charCode||_.keyCode;if(!_.which&&_.button)_.which=(_.button&1?1:(_.button&2?3:(_.button&4?2:0)));return _}};var $=navigator.userAgent.toLowerCase();h.browser={version:($.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test($),opera:/opera/.test($),msie:/msie/.test($)&&!/opera/.test($),mozilla:/mozilla/.test($)&&!/(compatible|webkit)/.test($)};h.ajax={createXhr:function(){var _;try{_=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()}catch($){}if(!_)throw"failed to create an XMLHttpRequest object";return _},send:function(G,C,B,H,A){A=A||h.ajax.createXhr();var E;C=C.toUpperCase();C=C!=="GET"&&C!=="POST"?"GET":C;H=H||{};H.async="boolean"===typeof H.async?H.async:true;var _;if(B){_=[];for(var $ in B)if($!=null)_.push($+"="+encodeURIComponent(B[$]));_=_.join("&").replace(/%20/g,"+")}if(H.async&&!isNaN(H.timeout)&&H.timeout>0)setTimeout(function(){if(!E){A.abort();if(H.onTimeout)H.onTimeout(A)}},H.timeout);A.onreadystatechange=function(){if(4==A.readyState){E=true;var $=200==A.status?"onSuccess":"onError";H[$]&&H[$](A)}};if(_&&"GET"===C){G+=("?"+_);_=null}A.open(C,G,H.async,H.username,H.password);var D=[];if("POST"===C)D.push("application/x-www-form-urlencoded");if(H.headers)for(var F in H.headers)if("content-type"===F.toLowerCase())D.push(H.headers[F]);else A.setRequestHeader(F,H.headers[F]);if(D.length)A.setRequestHeader("Content-Type",D.join(";").replace(/;+/g,";").replace(/;$/,""));A.send(_);return A},importJs:function(C,$,A,_){_=_||document;var B=_.createElement("script");B.language="javascript";B.type="text/javascript";if(A)B.charset=A;B.onload=B.onreadystatechange=function(){if(!B.readyState||"loaded"==B.readyState||"complete"==B.readyState){$&&$(B);B.onload=B.onreadystatechange=null;B.parentNode.removeChild(B)}};B.src=C;_.getElementsByTagName("head")[0].appendChild(B)}};var l=/[smhdMy]$/,S={"s":1,"m":60,"h":60*60,"d":24*60*60,"M":30*24*60*60,"y":365*24*60*60};h.cookie={encoder:window.encodeURIComponent,decoder:window.decodeURIComponent,get:function(B){var _=h.cookie;B=_.encoder(B)+"=";var $=document.cookie,A=$.indexOf(B),C;if(-1===A)return L;A+=B.length;C=$.indexOf(";",A);if(C===-1)C=$.length;return _.decoder($.substring(A,C))},set:function(C,G,A,F,E,D){var _=h.cookie,B=[_.encoder(C)+"="+_.encoder(G)];if(A){var H,$;if("[object Date]"===f.call(A))H=A;else{if("string"===typeof A&&l.test(A)){A=A.substring(0,A.length-1);$=RegExp.lastMatch}if(!isNaN(A)){H=new Date();H.setTime(H.getTime()+A*S[$||"m"]*1000)}}H&&B.push("expires="+H.toUTCString())}E!=null&&E!==""&&B.push("path="+E);F&&B.push("domain="+F);D&&B.push("secure");document.cookie=B.join(";")},del:function($,A,_){document.cookie=h.cookie.encoder($)+"="+(_!=null&&_!==""?";path="+_:"")+(A?";domain="+A:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}};var a=/^\s+|\s+$/g;String.prototype.trim=function($){return this.replace(null==$?a:new RegExp("^"+$+"+|"+$+"+$","g"),"")};String.prototype.left=function($){return this.substr(0,$)};String.prototype.right=function($){return this.slice(-$)};String.prototype.has=function($,_){return"string"===typeof _?(_+this+_).indexOf(_+$+_)>=0:this.indexOf($)>=0};String.format=function($){var _=arguments,A=new RegExp("%([1-"+_.length+"])","g");return String($).replace(A,function($,A){return _[A]})};Function.prototype.bind=function(){if(!arguments.length)return this;var _=this,$=Array.prototype.slice.call(arguments),A=$.shift();return function(){return _.apply(A,$.concat(Array.prototype.slice.call(arguments)))}};Array.prototype.indexOf=Array.prototype.indexOf||function($,_){var B=isNaN(_)||_<0?-1:_-1,A=this.length;while(++B<A)if(this[B]===$)return B;return-1};Array.prototype.remove=function($){if($>=0)this.splice($,1);return this};function G($){return $<10?"0"+$:$}var j,O,d,c,C,N;function V($){switch($){case"yyyy":return j;case"yy":return j.toString().slice(-2);case"MM":return G(O);case"M":return O;case"dd":return G(d);case"d":return d;case"HH":return G(c);case"H":return c;case"hh":return G(c>12?c-12:c);case"h":return c>12?c-12:c;case"mm":return G(C);case"m":return C;case"ss":return G(N);case"s":return N;default:return $}}Date.now=Date.now||function(){return+new Date};Date.prototype.format=function($){j=this.getFullYear();O=this.getMonth()+1;d=this.getDate();c=this.getHours();C=this.getMinutes();N=this.getSeconds();return $.replace(/y+|m+|d+|h+|s+|H+|M+/g,V)};b=null})()